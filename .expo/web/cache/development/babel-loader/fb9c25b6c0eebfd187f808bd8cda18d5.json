{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _ExecutionEnvironment = require(\"fbjs/lib/ExecutionEnvironment\");\n\nvar _createReactDOMStyle = _interopRequireDefault(require(\"./createReactDOMStyle\"));\n\nvar _flattenArray = _interopRequireDefault(require(\"../../modules/flattenArray\"));\n\nvar _flattenStyle = _interopRequireDefault(require(\"./flattenStyle\"));\n\nvar _I18nManager = _interopRequireDefault(require(\"../I18nManager\"));\n\nvar _i18nStyle = _interopRequireDefault(require(\"./i18nStyle\"));\n\nvar _prefixStyles = require(\"../../modules/prefixStyles\");\n\nvar _StyleSheetManager = _interopRequireDefault(require(\"./StyleSheetManager\"));\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar emptyObject = {};\n\nvar ReactNativeStyleResolver = function () {\n  var _proto = ReactNativeStyleResolver.prototype;\n\n  _proto._init = function _init() {\n    this.cache = {\n      ltr: {},\n      rtl: {},\n      rtlNoSwap: {}\n    };\n    this.injectedCache = {\n      ltr: {},\n      rtl: {},\n      rtlNoSwap: {}\n    };\n    this.styleSheetManager = new _StyleSheetManager.default();\n  };\n\n  function ReactNativeStyleResolver() {\n    this._init();\n  }\n\n  _proto.getStyleSheet = function getStyleSheet() {\n    var sheet = this.styleSheetManager.getStyleSheet();\n\n    if (!_ExecutionEnvironment.canUseDOM) {\n      this._init();\n    }\n\n    return sheet;\n  };\n\n  _proto._injectRegisteredStyle = function _injectRegisteredStyle(id) {\n    var _this = this;\n\n    var doLeftAndRightSwapInRTL = _I18nManager.default.doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager.default.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr';\n\n    if (!this.injectedCache[dir][id]) {\n      var style = (0, _flattenStyle.default)(id);\n      var domStyle = (0, _createReactDOMStyle.default)((0, _i18nStyle.default)(style));\n      Object.keys(domStyle).forEach(function (styleProp) {\n        var value = domStyle[styleProp];\n\n        if (value != null) {\n          _this.styleSheetManager.injectDeclaration(styleProp, value);\n        }\n      });\n      this.injectedCache[dir][id] = true;\n    }\n  };\n\n  _proto.resolve = function resolve(style) {\n    if (!style) {\n      return emptyObject;\n    }\n\n    if (typeof style === 'number') {\n      this._injectRegisteredStyle(style);\n\n      var _key = createCacheKey(style);\n\n      return this._resolveStyleIfNeeded(style, _key);\n    }\n\n    if (!Array.isArray(style)) {\n      return this._resolveStyleIfNeeded(style);\n    }\n\n    var flatArray = (0, _flattenArray.default)(style);\n    var isArrayOfNumbers = true;\n    var cacheKey = '';\n\n    for (var i = 0; i < flatArray.length; i++) {\n      var id = flatArray[i];\n\n      if (typeof id !== 'number') {\n        isArrayOfNumbers = false;\n      } else {\n        if (isArrayOfNumbers) {\n          cacheKey += id + '-';\n        }\n\n        this._injectRegisteredStyle(id);\n      }\n    }\n\n    var key = isArrayOfNumbers ? createCacheKey(cacheKey) : null;\n    return this._resolveStyleIfNeeded(flatArray, key);\n  };\n\n  _proto.resolveWithNode = function resolveWithNode(rnStyleNext, node) {\n    var _this2 = this;\n\n    var _getDOMStyleInfo = getDOMStyleInfo(node),\n        rdomClassList = _getDOMStyleInfo.classList,\n        rdomStyle = _getDOMStyleInfo.style;\n\n    var _rdomClassList$reduce = rdomClassList.reduce(function (styleProps, className) {\n      var _this2$styleSheetMana = _this2.styleSheetManager.getDeclaration(className),\n          prop = _this2$styleSheetMana.prop,\n          value = _this2$styleSheetMana.value;\n\n      if (prop) {\n        styleProps.style[prop] = value;\n      } else {\n        styleProps.classList.push(className);\n      }\n\n      return styleProps;\n    }, {\n      classList: [],\n      style: {}\n    }),\n        rnClassList = _rdomClassList$reduce.classList,\n        rnStyle = _rdomClassList$reduce.style;\n\n    var _this$resolve = this.resolve([(0, _i18nStyle.default)(rnStyle), rnStyleNext]),\n        rdomClassListNext = _this$resolve.classList,\n        rdomStyleNext = _this$resolve.style;\n\n    var className = classListToString(rdomClassListNext.concat(rnClassList));\n\n    var style = _objectSpread({}, rdomStyle);\n\n    rdomClassListNext.forEach(function (className) {\n      var _this2$styleSheetMana2 = _this2.styleSheetManager.getDeclaration(className),\n          prop = _this2$styleSheetMana2.prop;\n\n      if (style[prop]) {\n        style[prop] = '';\n      }\n    });\n    (0, _extends2.default)(style, rdomStyleNext);\n    return {\n      className: className,\n      style: style\n    };\n  };\n\n  _proto._resolveStyle = function _resolveStyle(style) {\n    var _this3 = this;\n\n    var flatStyle = (0, _flattenStyle.default)(style);\n    var domStyle = (0, _createReactDOMStyle.default)((0, _i18nStyle.default)(flatStyle));\n    var props = Object.keys(domStyle).reduce(function (props, styleProp) {\n      var value = domStyle[styleProp];\n\n      if (value != null) {\n        var className = _this3.styleSheetManager.getClassName(styleProp, value);\n\n        if (className) {\n          props.classList.push(className);\n        } else {\n          if (styleProp === 'pointerEvents' || styleProp === 'placeholderTextColor' || styleProp === 'animationName') {\n            var _className = _this3.styleSheetManager.injectDeclaration(styleProp, value);\n\n            if (_className) {\n              props.classList.push(_className);\n            }\n          } else {\n            if (!props.style) {\n              props.style = {};\n            }\n\n            props.style[styleProp] = value;\n          }\n        }\n      }\n\n      return props;\n    }, {\n      classList: []\n    });\n    props.className = classListToString(props.classList);\n\n    if (props.style) {\n      props.style = (0, _prefixStyles.prefixInlineStyles)(props.style);\n    }\n\n    return props;\n  };\n\n  _proto._resolveStyleIfNeeded = function _resolveStyleIfNeeded(style, key) {\n    if (key) {\n      var doLeftAndRightSwapInRTL = _I18nManager.default.doLeftAndRightSwapInRTL,\n          isRTL = _I18nManager.default.isRTL;\n      var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr';\n\n      if (!this.cache[dir][key]) {\n        this.cache[dir][key] = this._resolveStyle(style);\n      }\n\n      return this.cache[dir][key];\n    }\n\n    return this._resolveStyle(style);\n  };\n\n  return ReactNativeStyleResolver;\n}();\n\nexports.default = ReactNativeStyleResolver;\n\nvar createCacheKey = function createCacheKey(id) {\n  var prefix = 'rn';\n  return prefix + \"-\" + id;\n};\n\nvar classListToString = function classListToString(list) {\n  return list.join(' ').trim();\n};\n\nvar hyphenPattern = /-([a-z])/g;\n\nvar toCamelCase = function toCamelCase(str) {\n  return str.replace(hyphenPattern, function (m) {\n    return m[1].toUpperCase();\n  });\n};\n\nvar getDOMStyleInfo = function getDOMStyleInfo(node) {\n  var nodeStyle = node.style;\n  var classList = Array.prototype.slice.call(node.classList);\n  var style = {};\n\n  for (var i = 0; i < nodeStyle.length; i += 1) {\n    var property = nodeStyle.item(i);\n\n    if (property) {\n      style[toCamelCase(property)] = nodeStyle.getPropertyValue(property);\n    }\n  }\n\n  return {\n    classList: classList,\n    style: style\n  };\n};","map":{"version":3,"sources":["C:/Users/ANDRE/source/repos/SocialPlatform/Website/node_modules/react-native-web/dist/exports/StyleSheet/ReactNativeStyleResolver.js"],"names":["_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","emptyObject","ReactNativeStyleResolver","_proto","prototype","_init","cache","ltr","rtl","rtlNoSwap","injectedCache","styleSheetManager","StyleSheetManager","getStyleSheet","sheet","canUseDOM","_injectRegisteredStyle","id","_this","doLeftAndRightSwapInRTL","I18nManager","isRTL","dir","style","domStyle","styleProp","injectDeclaration","resolve","_key","createCacheKey","_resolveStyleIfNeeded","Array","isArray","flatArray","isArrayOfNumbers","cacheKey","resolveWithNode","rnStyleNext","node","_this2","_getDOMStyleInfo","getDOMStyleInfo","rdomClassList","classList","rdomStyle","_rdomClassList$reduce","reduce","styleProps","className","_this2$styleSheetMana","getDeclaration","prop","push","rnClassList","rnStyle","_this$resolve","rdomClassListNext","rdomStyleNext","classListToString","_this2$styleSheetMana2","_resolveStyle","_this3","flatStyle","props","getClassName","_className","prefix","list","join","trim","hyphenPattern","toCamelCase","str","replace","m","toUpperCase","nodeStyle","slice","call","property","item","getPropertyValue"],"mappings":"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","sourcesContent":["function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Copyright (c) 2016-present, Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\n/**\n * WARNING: changes to this file in particular can cause significant changes to\n * the results of render performance benchmarks.\n */\nimport { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\nimport createReactDOMStyle from './createReactDOMStyle';\nimport flattenArray from '../../modules/flattenArray';\nimport flattenStyle from './flattenStyle';\nimport I18nManager from '../I18nManager';\nimport i18nStyle from './i18nStyle';\nimport { prefixInlineStyles } from '../../modules/prefixStyles';\nimport StyleSheetManager from './StyleSheetManager';\nvar emptyObject = {};\n\nvar ReactNativeStyleResolver =\n/*#__PURE__*/\nfunction () {\n  var _proto = ReactNativeStyleResolver.prototype;\n\n  _proto._init = function _init() {\n    this.cache = {\n      ltr: {},\n      rtl: {},\n      rtlNoSwap: {}\n    };\n    this.injectedCache = {\n      ltr: {},\n      rtl: {},\n      rtlNoSwap: {}\n    };\n    this.styleSheetManager = new StyleSheetManager();\n  };\n\n  function ReactNativeStyleResolver() {\n    this._init();\n  }\n\n  _proto.getStyleSheet = function getStyleSheet() {\n    // reset state on the server so critical css is always the result\n    var sheet = this.styleSheetManager.getStyleSheet();\n\n    if (!canUseDOM) {\n      this._init();\n    }\n\n    return sheet;\n  };\n\n  _proto._injectRegisteredStyle = function _injectRegisteredStyle(id) {\n    var _this = this;\n\n    var doLeftAndRightSwapInRTL = I18nManager.doLeftAndRightSwapInRTL,\n        isRTL = I18nManager.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr';\n\n    if (!this.injectedCache[dir][id]) {\n      var style = flattenStyle(id);\n      var domStyle = createReactDOMStyle(i18nStyle(style));\n      Object.keys(domStyle).forEach(function (styleProp) {\n        var value = domStyle[styleProp];\n\n        if (value != null) {\n          _this.styleSheetManager.injectDeclaration(styleProp, value);\n        }\n      });\n      this.injectedCache[dir][id] = true;\n    }\n  }\n  /**\n   * Resolves a React Native style object to DOM attributes\n   */\n  ;\n\n  _proto.resolve = function resolve(style) {\n    if (!style) {\n      return emptyObject;\n    } // fast and cachable\n\n\n    if (typeof style === 'number') {\n      this._injectRegisteredStyle(style);\n\n      var _key = createCacheKey(style);\n\n      return this._resolveStyleIfNeeded(style, _key);\n    } // resolve a plain RN style object\n\n\n    if (!Array.isArray(style)) {\n      return this._resolveStyleIfNeeded(style);\n    } // flatten the style array\n    // cache resolved props when all styles are registered\n    // otherwise fallback to resolving\n\n\n    var flatArray = flattenArray(style);\n    var isArrayOfNumbers = true;\n    var cacheKey = '';\n\n    for (var i = 0; i < flatArray.length; i++) {\n      var id = flatArray[i];\n\n      if (typeof id !== 'number') {\n        isArrayOfNumbers = false;\n      } else {\n        if (isArrayOfNumbers) {\n          cacheKey += id + '-';\n        }\n\n        this._injectRegisteredStyle(id);\n      }\n    }\n\n    var key = isArrayOfNumbers ? createCacheKey(cacheKey) : null;\n    return this._resolveStyleIfNeeded(flatArray, key);\n  }\n  /**\n   * Resolves a React Native style object to DOM attributes, accounting for\n   * the existing styles applied to the DOM node.\n   *\n   * To determine the next style, some of the existing DOM state must be\n   * converted back into React Native styles.\n   */\n  ;\n\n  _proto.resolveWithNode = function resolveWithNode(rnStyleNext, node) {\n    var _this2 = this;\n\n    var _getDOMStyleInfo = getDOMStyleInfo(node),\n        rdomClassList = _getDOMStyleInfo.classList,\n        rdomStyle = _getDOMStyleInfo.style; // Convert the DOM classList back into a React Native form\n    // Preserves unrecognized class names.\n\n\n    var _rdomClassList$reduce = rdomClassList.reduce(function (styleProps, className) {\n      var _this2$styleSheetMana = _this2.styleSheetManager.getDeclaration(className),\n          prop = _this2$styleSheetMana.prop,\n          value = _this2$styleSheetMana.value;\n\n      if (prop) {\n        styleProps.style[prop] = value;\n      } else {\n        styleProps.classList.push(className);\n      }\n\n      return styleProps;\n    }, {\n      classList: [],\n      style: {}\n    }),\n        rnClassList = _rdomClassList$reduce.classList,\n        rnStyle = _rdomClassList$reduce.style; // Create next DOM style props from current and next RN styles\n\n\n    var _this$resolve = this.resolve([i18nStyle(rnStyle), rnStyleNext]),\n        rdomClassListNext = _this$resolve.classList,\n        rdomStyleNext = _this$resolve.style; // Final className\n    // Add the current class names not managed by React Native\n\n\n    var className = classListToString(rdomClassListNext.concat(rnClassList)); // Final style\n    // Next class names take priority over current inline styles\n\n    var style = _objectSpread({}, rdomStyle);\n\n    rdomClassListNext.forEach(function (className) {\n      var _this2$styleSheetMana2 = _this2.styleSheetManager.getDeclaration(className),\n          prop = _this2$styleSheetMana2.prop;\n\n      if (style[prop]) {\n        style[prop] = '';\n      }\n    }); // Next inline styles take priority over current inline styles\n\n    Object.assign(style, rdomStyleNext);\n    return {\n      className: className,\n      style: style\n    };\n  }\n  /**\n   * Resolves a React Native style object\n   */\n  ;\n\n  _proto._resolveStyle = function _resolveStyle(style) {\n    var _this3 = this;\n\n    var flatStyle = flattenStyle(style);\n    var domStyle = createReactDOMStyle(i18nStyle(flatStyle));\n    var props = Object.keys(domStyle).reduce(function (props, styleProp) {\n      var value = domStyle[styleProp];\n\n      if (value != null) {\n        var className = _this3.styleSheetManager.getClassName(styleProp, value);\n\n        if (className) {\n          props.classList.push(className);\n        } else {\n          // Certain properties and values are not transformed by 'createReactDOMStyle' as they\n          // require more complex transforms into multiple CSS rules. Here we assume that StyleManager\n          // can bind these styles to a className, and prevent them becoming invalid inline-styles.\n          if (styleProp === 'pointerEvents' || styleProp === 'placeholderTextColor' || styleProp === 'animationName') {\n            var _className = _this3.styleSheetManager.injectDeclaration(styleProp, value);\n\n            if (_className) {\n              props.classList.push(_className);\n            }\n          } else {\n            if (!props.style) {\n              props.style = {};\n            } // 4x slower render\n\n\n            props.style[styleProp] = value;\n          }\n        }\n      }\n\n      return props;\n    }, {\n      classList: []\n    });\n    props.className = classListToString(props.classList);\n\n    if (props.style) {\n      props.style = prefixInlineStyles(props.style);\n    }\n\n    return props;\n  }\n  /**\n   * Caching layer over 'resolveStyle'\n   */\n  ;\n\n  _proto._resolveStyleIfNeeded = function _resolveStyleIfNeeded(style, key) {\n    if (key) {\n      var doLeftAndRightSwapInRTL = I18nManager.doLeftAndRightSwapInRTL,\n          isRTL = I18nManager.isRTL;\n      var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr';\n\n      if (!this.cache[dir][key]) {\n        // slow: convert style object to props and cache\n        this.cache[dir][key] = this._resolveStyle(style);\n      }\n\n      return this.cache[dir][key];\n    }\n\n    return this._resolveStyle(style);\n  };\n\n  return ReactNativeStyleResolver;\n}();\n/**\n * Misc helpers\n */\n\n\nexport { ReactNativeStyleResolver as default };\n\nvar createCacheKey = function createCacheKey(id) {\n  var prefix = 'rn';\n  return prefix + \"-\" + id;\n};\n\nvar classListToString = function classListToString(list) {\n  return list.join(' ').trim();\n};\n/**\n * Copies classList and style data from a DOM node\n */\n\n\nvar hyphenPattern = /-([a-z])/g;\n\nvar toCamelCase = function toCamelCase(str) {\n  return str.replace(hyphenPattern, function (m) {\n    return m[1].toUpperCase();\n  });\n};\n\nvar getDOMStyleInfo = function getDOMStyleInfo(node) {\n  var nodeStyle = node.style;\n  var classList = Array.prototype.slice.call(node.classList);\n  var style = {}; // DOM style is a CSSStyleDeclaration\n  // https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration\n\n  for (var i = 0; i < nodeStyle.length; i += 1) {\n    var property = nodeStyle.item(i);\n\n    if (property) {\n      // DOM style uses hyphenated prop names and may include vendor prefixes\n      // Transform back into React DOM style.\n      style[toCamelCase(property)] = nodeStyle.getPropertyValue(property);\n    }\n  }\n\n  return {\n    classList: classList,\n    style: style\n  };\n};"]},"metadata":{},"sourceType":"script"}